(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{103:function(e,t,n){e.exports={contactsTitle:"FillterForm_contactsTitle__2dq8G",boxContact:"FillterForm_boxContact__1De7L",boxFilter:"FillterForm_boxFilter__U_ZRt",boxInput:"FillterForm_boxInput__3K_lm",boxSubmit:"FillterForm_boxSubmit__3TKp4"}},108:function(e,t,n){e.exports={appear:"Form_appear__3IdL4",appearActive:"Form_appearActive__3KVCU",formContainer:"Form_formContainer__2nbjZ",boxAlert:"Form_boxAlert__3ADQx"}},109:function(e,t,n){},113:function(e,t,n){e.exports={listItem:"ListItemPeople_listItem__2L8GY"}},114:function(e,t,n){e.exports={list:"ListPeople_list__3AFl1",enter:"ListPeople_enter__1sOYW",enterActive:"ListPeople_enterActive__3AIHW",exit:"ListPeople_exit__342pp",exitActive:"ListPeople_exitActive__2ftRO"}},115:function(e,t,n){e.exports={boxContact:"ContactForm_boxContact__2VaVh",formContact:"ContactForm_formContact__2dLwp"}},116:function(e,t,n){e.exports={enter:"Alert_enter__1WdeV",enterActive:"Alert_enterActive__2QV1f",exit:"Alert_exit__enb_h",exitActive:"Alert_exitActive__1s8X6",alert:"Alert_alert__vf7Wo",message:"Alert_message__JfTYJ"}},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n(101),l=n(44),i=n(45),u=n(47),s=n(46),m=n(108),p=n.n(m),b=(n(109),n(103)),f=n.n(b),_=n(13),v=n(25),h=n(110),C=n(113),d=n.n(C),g=n(17),x=n.n(g),E=n(29),A=n(21),F=n.n(A);F.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var O=function(e){return function(t){console.log(e,"description"),t(v.a.addContactRequest()),F.a.post("/contacts",Object(c.a)({},e)).then((function(n){console.log(n,"responce"),t(v.a.addContactSuccess(Object(c.a)(Object(c.a)({},e),{},{id:n.data.name})))})).catch((function(e){return t(v.a.addContactError(e))}))}},S=function(){return function(){var e=Object(E.a)(x.a.mark((function e(t){var n,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v.a.getContactsRequest()),e.prev=1,e.next=4,F.a.get("/contacts");case 4:n=e.sent,console.log(n,"RESULT"),a=Object.keys(n.data),r=a.reduce((function(e,t){return e.push(Object(c.a)({id:t},n.data[t])),e}),[]),t(v.a.getContactsSuccess(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(v.a.getContactsError("Something went wrong"));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(t){t(v.a.removeContactRequest()),F.a.delete("contacts/".concat(e)).then((function(){console.log(e,"SuccessID"),t(v.a.removeContactSuccess(e))})).catch((function(e){console.log(e,"error"),t(v.a.removeContactError(e))}))}},j=Object(_.b)(null,(function(e){return{onRemoveContact:function(t){e(N(t.target.name))}}}))((function(e){var t=e.name,n=e.number,a=e.id,o=e.onRemoveContact;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:d.a.listItem},t,": ",n,r.a.createElement("button",{type:"button",onClick:o,name:a},"Delite")))})),k=n(114),y=n.n(k),w=n(121),I=n(120),L=function(e){return e.contacts},R={getContactSelection:L,getAlertSelection:function(e){return e.alert},getFilterSelection:function(e){return e.filter},getContactFilterSelection:function(e){return e.contacts.filter((function(t){return t.name.toLowerCase().includes(e.filter.toLowerCase())}))}},P=Object(_.b)((function(e){var t=e.state;return{contacts:R.getContactFilterSelection(t)}}))((function(e){var t=e.contacts;return console.log(t,"contacts"),r.a.createElement("div",{className:y.a.listPeopleBox},r.a.createElement(w.a,{className:y.a.list},t.map((function(e){return r.a.createElement(I.a,{key:e.id,timeout:500,classNames:y.a},r.a.createElement(j,Object.assign({key:Object(h.v4)()},e)))}))))})),T={onfilterChange:v.a.filterChange},D=Object(_.b)(null,T)((function(e){var t=e.value,n=e.onfilterChange;return r.a.createElement("div",{class:f.a.boxContact},r.a.createElement("form",{className:f.a.boxFilter},r.a.createElement("label",{className:f.a.label},r.a.createElement("input",{type:"text",name:"filter",className:f.a.boxInput,placeholder:"FIND CONTACTS BY NUMBER...",value:t,onChange:function(e){n(e.target.value)}})),r.a.createElement("button",{type:"submit",className:f.a.boxSubmit}),r.a.createElement(P,null)))})),U=n(115),V=n.n(U),Y=function(e){var t=e.name,n=e.number,a=e.handleChange;return r.a.createElement("div",{className:V.a.boxContact},r.a.createElement("form",{className:V.a.formContact},r.a.createElement("h2",null,"Phonebook"),r.a.createElement("label",null,r.a.createElement("p",null,"Name"),r.a.createElement("input",{type:"text",name:"name",onChange:a,value:t,className:V.a.nameInput})),r.a.createElement("label",null,r.a.createElement("p",null,"Number"),r.a.createElement("input",{type:"text",name:"number",onChange:a,value:n,className:V.a.nameInput})),r.a.createElement("button",{type:"submit",className:V.a.submitInput},"Add")))},q=n(116),G=n.n(q),J=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:G.a.boxAlert},r.a.createElement("p",null,"Contact already exists!Oh snap! You got an error!")))},W=n(117),B={name:"",number:""},K=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=Object(c.a)({},B),e.handleChange=function(t){var n=t.target.name,a=t.target.value;e.setState(Object(o.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,r=n.number,o=e.props.contacts;o&&(o.map((function(e){return e})).find((function(t){return t.name===e.state.name&&t.number===e.state.number}))?e.alertShow():e.props.onAddContacts({name:a,number:r}));e.setState(Object(c.a)({},B))},e.alertShow=function(){e.props.onAlertError(),setTimeout((function(){return e.props.onAlertError()}),5e3)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetContactOperation()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,a=this.props.alert;return r.a.createElement("div",{className:p.a.boxForm},a&&r.a.createElement(I.a,{classNames:p.a,in:!0,appear:!0,timeout:1500,unmountOnExit:!0},r.a.createElement(J,null)),r.a.createElement(W.a,{onSubmit:this.handleSubmit,className:p.a.formContainer},r.a.createElement(Y,{handleChange:this.handleChange,name:t,number:n})),r.a.createElement(D,null))}}]),n}(a.Component),M=Object(_.b)((function(e){var t=e.state;return{value:R.getFilterSelection(t),alert:R.getAlertSelection(t),contacts:R.getContactSelection(t)}}),(function(e){return{onAddContacts:function(t,n){return e(O(t,n))},onAlertError:function(){return e(v.a.alertError())},onGetContactOperation:function(){return e(S())}}}))(K);t.default=function(){return r.a.createElement(M,null)}}}]);
//# sourceMappingURL=3.75257e78.chunk.js.map