{"version":3,"sources":["Redux/Actions/Actions.js","Components/Header/Header.module.css","Redux/Operations/authOperations.js","Redux/Actions/AuthAction.js","Components/UserMenu/UserMenu.module.css","image/88841e3ffd244bb0c9c37ce05256e446.gif","routes.js","Redux/Selections/authSelector.js","Components/UserMenu/UserMenu.js","Components/Header/Header.js","Components/PrivateRoute.js","Components/PublicRoute.js","App.js","Redux/Reducers/Reducers.js","Redux/Reducers/authReduser.js","Redux/store.js","index.js"],"names":["filterChange","createAction","filter","payload","alertError","addContactRequest","addContactSuccess","addContactError","getContactsRequest","getContactsSuccess","getContactsError","removeContactRequest","removeContactSuccess","removeContactError","module","exports","axios","defaults","baseURL","token","headers","common","Authorization","addNewUser","user","dispatch","a","actions","registerRequest","post","result","data","registerSuccess","registerError","loginUser","loginRequest","loginSuccess","loginError","logOut","console","log","logoutRequest","logoutSuccess","logoutError","currentUser","getState","getCurrentUserRequest","persistedToken","auth","get","getCurrentUserSuccess","getCurrentUserError","path","label","exact","component","lazy","private","restricted","isAuthenticated","state","getUserName","name","connect","authSelectors","avatar","img","onLogoutUser","authOperations","src","alt","width","className","css","userMenu_img","type","onClick","userMenu_Button","isAuth","header","Navbar","collapseOnSelect","expand","bg","variant","Brand","href","Toggle","aria-controls","Collapse","id","Nav","Link","to","navlink_Header","authSelector","Component","route","render","props","App","this","isCurrentUser","fallback","Container","fluid","routes","map","key","contacts","createReducer","Actions","action","contact","combineReducers","alert","initialUserState","email","authActions","_","error","persistConfig","storage","whitelist","store","configureStore","reducer","contactReducer","persistReducer","userReduser","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","loading","document","getElementById"],"mappings":"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","file":"static/js/main.37e08a68.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst filterChange = createAction('contacts/filterChange', filter=>({ payload:{filter}}))\r\nconst alertError = createAction('contacts/alertError')\r\n\r\nconst addContactRequest = createAction(\"contact/ADDTASKREQUEST\");\r\nconst addContactSuccess = createAction(\"contact/ADDTASKSUCCESS\");\r\nconst addContactError = createAction(\"contact/ADDTASKERROR\");\r\n\r\nconst getContactsRequest = createAction(\"contact/GETCONTACTREQUEST\");\r\nconst getContactsSuccess = createAction(\"contact/GETCONTACTSUCCESS\");\r\nconst getContactsError = createAction(\"contact/GETCONTACTERROR\");\r\n\r\n\r\nconst removeContactRequest = createAction(\"contact/removeASKREQUEST\");\r\nconst removeContactSuccess = createAction(\"contact/removeTASKSUCCESS\");\r\nconst removeContactError = createAction(\"contact/removeTASKERROR\");\r\n\r\n\r\nexport default { \r\n  filterChange, \r\n  alertError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  getContactsRequest,\r\n  getContactsSuccess,\r\n  getContactsError,\r\n  removeContactRequest,\r\n  removeContactSuccess,\r\n  removeContactError\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navlink_Header\":\"Header_navlink_Header__1n1lj\"};","import actions from '../Actions/AuthAction'\r\nimport axios from 'axios'\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\n\r\nexport const token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst addNewUser = user => async dispatch => {\r\n  dispatch(actions.registerRequest())\r\n  try {\r\n    const result = await axios.post('/users/signup', user)\r\n    token.set(result.data.token)\r\n    dispatch(actions.registerSuccess(result.data))\r\n  } catch (error) {\r\n    dispatch(actions.registerError(error))\r\n  }\r\n\r\n}\r\n\r\nconst loginUser = user => async dispatch => {\r\n  dispatch(actions.loginRequest())\r\n  try {\r\n    const result = await axios.post('/users/login', user)\r\n    token.set(result.data.token)\r\n    dispatch(actions.loginSuccess(result.data))\r\n  } catch (error) {\r\n    dispatch(actions.loginError(error))\r\n  }\r\n}\r\n\r\nconst logOut = () => async dispatch => {\r\n  console.log(\"Запуск после рендра logOut\")\r\n  dispatch(actions.logoutRequest());\r\n\r\n  try {\r\n    await axios.post('/users/logout')\r\n    console.log(\"try logout\")\r\n    token.unset();\r\n    dispatch(actions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(actions.logoutError(error))\r\n  }\r\n}\r\n\r\n\r\nconst currentUser = () => async (dispatch, getState) => {\r\n  console.log(\"Запуск после рендра currentUser\")\r\n  dispatch(actions.getCurrentUserRequest());\r\n\r\n  // const { auth: { tokenOfUser } } = getState();\r\n  //   console.log(\"tokenOfUser\", tokenOfUser)\r\n\r\n  // if(!tokenOfUser){\r\n  //   return\r\n  // }\r\n  // token.set(tokenOfUser)\r\n\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n  console.log(persistedToken, \"persistedToken900776554\")\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken)\r\n\r\n\r\n  try {\r\n    const result = await axios.get('/users/current')\r\n    console.log(result, \"result\")\r\n    dispatch(actions.getCurrentUserSuccess(result));\r\n  } catch (error) {\r\n    dispatch(actions.getCurrentUserError(error))\r\n  }\r\n}\r\n\r\n\r\nexport default { addNewUser, loginUser, logOut, currentUser }\r\n\r\n\r\n// как работать с листочком беком и где авториизация в хедере заходят","  \r\nimport { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMenu_Button\":\"UserMenu_userMenu_Button__evGMW\",\"userMenu_img\":\"UserMenu_userMenu_img__Kv67m\",\"list\":\"UserMenu_list__3koxG\"};","module.exports = __webpack_public_path__ + \"static/media/88841e3ffd244bb0c9c37ce05256e446.f319d3fe.gif\";","\r\nimport { lazy } from 'react';\r\n\r\nexport default [\r\n  {\r\n    path: '/',\r\n    label: 'Home',\r\n    exact: true,\r\n    component: lazy(() => import('./Pages/HomePage')),\r\n    private: false,\r\n    restricted: false,\r\n  },\r\n  {\r\n    path: '/register',\r\n    label: 'Register',\r\n    exact: true,\r\n    component: lazy(() => import('./Pages/RegisterPage')),\r\n    private: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: '/login',\r\n    label: 'Login',\r\n    exact: true,\r\n    component: lazy(() => import('./Pages/LoginPage.js')),\r\n    private: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: '/contacts',\r\n    label: 'Contacts',\r\n    exact: true,\r\n    component: lazy(() => import('./Pages/ContactsPage.js')),\r\n    private: true,\r\n    restricted: false,\r\n  },\r\n];\r\n\r\n","const isAuthenticated = state => state.auth.token;\r\nconst getUserName = state => state.auth.user.name;\r\n\r\nexport default { isAuthenticated, getUserName };","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../../Redux/Selections/authSelector'\r\nimport authOperations from  '../../Redux/Operations/authOperations'\r\nimport img from \"../../image/88841e3ffd244bb0c9c37ce05256e446.gif\"\r\nimport css from \"./UserMenu.module.css\"\r\n\r\n\r\n\r\nconst UserMenu = ({ avatar, name, onLogoutUser }) => (\r\n  <div >\r\n    <img src={avatar} alt=\"\" width=\"32\"  className={css.userMenu_img}/>\r\n    <span >Welcome, {name}</span>\r\n    <button type=\"button\" onClick={onLogoutUser} className={css.userMenu_Button}>\r\n      Logout\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  name: authSelectors.getUserName(state),\r\n  avatar: `${img}`,\r\n});\r\n\r\nexport default connect(mapStateToProps, { onLogoutUser: authOperations.logOut })(UserMenu);","import React from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport css from './Header.module.css'\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../../Redux/Selections/authSelector'\r\n\r\n\r\nconst Header = ({ isAuth }) => {\r\n\r\n\r\n\r\n\r\n  return (\r\n    <header className={css.header}>\r\n     \r\n        <ul>\r\n          <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" >\r\n            <Navbar.Brand href=\"#home\">Phonebook</Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n              <Nav className=\"mr-auto\">\r\n                <Nav.Link>\r\n                  <NavLink to=\"/\" className={css.navlink_Header} >Home</NavLink>\r\n                </Nav.Link>\r\n                {isAuth && \r\n                <Nav.Link>\r\n                  <NavLink to=\"/contacts\" className={css.navlink_Header} >Contacts</NavLink>\r\n                </Nav.Link>}\r\n\r\n\r\n              </Nav>\r\n              <Nav>\r\n                {isAuth ? <Nav.Link><UserMenu /></Nav.Link>\r\n                  : <>\r\n                    <Nav.Link>\r\n                      <NavLink to=\"/register\" className={css.navlink_Header} >Register</NavLink>\r\n                    </Nav.Link>\r\n                    <Nav.Link>\r\n                      <NavLink to=\"/login\" className={css.navlink_Header} >Login</NavLink>\r\n                    </Nav.Link>\r\n                  </>}\r\n\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n          </Navbar>\r\n\r\n        </ul>\r\n      \r\n    </header>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: authSelectors.isAuthenticated(state),\r\n\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(Header)\r\n\r\n\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelector from '../Redux/Selections/authSelector'\r\n\r\n\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuth,\r\n  ...route\r\n}) => (\r\n  <Route\r\n    {...route}\r\n    render={props =>\r\n      isAuth ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: authSelector.isAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n\r\n","  \r\nimport React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelector from '../Redux/Selections/authSelector'\r\n\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuth,\r\n  ...route\r\n}) => (\r\n  <Route\r\n    {...route}\r\n    render={props =>\r\n      isAuth && route.restricted ? (\r\n        <Redirect to=\"/contacts\" />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: authSelector.isAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React, { Component, Suspense } from 'react'\r\nimport { Switch} from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport routes from './routes'\r\nimport Header from './Components/Header/Header'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport authOperations from './Redux/Operations/authOperations'\r\nimport authSelector from './Redux/Selections/authSelector'\r\nimport PrivateRoute from './Components/PrivateRoute'\r\nimport PublicRoute from './Components/PublicRoute'\r\n\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.isCurrentUser()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Suspense fallback={<h2>Load</h2>}>\r\n      <Container fluid=\"md\">\r\n        <div>\r\n          <Header />\r\n          <Switch>\r\n            {routes.map(route =>\r\n                route.private ? (\r\n                  <PrivateRoute key={route.label} {...route} />\r\n                ) : (\r\n                  <PublicRoute key={route.label} {...route} />\r\n                ),\r\n              )}\r\n          </Switch>\r\n        </div>\r\n      </Container>\r\n      </Suspense>\r\n    )\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: authSelector.isAuthenticated\r\n })\r\n\r\nexport default connect(mapStateToProps, { isCurrentUser: authOperations.currentUser })(App)\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport Actions from '../Actions/Actions'\r\n\r\n\r\nconst onSetContact = (state, action) => [...action.payload];\r\nconst onAddTask = (state, action) => [...state, action.payload];\r\nconst onRemoveContact = (state, action) => state.filter(contact => contact.id !== action.payload);\r\n\r\nconst contacts = createReducer([], {\r\n  [Actions.getContactsSuccess]: onSetContact,\r\n  [Actions.addContactSuccess]: onAddTask,\r\n  [Actions.removeContactSuccess]: onRemoveContact,\r\n})\r\n\r\nconst filter = createReducer('', {\r\n  [Actions.filterChange]: (state, action) => action.payload.filter,\r\n})\r\n\r\nconst alert = (state = false, { type, payload }) => {\r\n\r\n  switch (type) {\r\n    case Actions.alertError.type:\r\n      return (state = !state);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({ contacts, filter, alert })\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from '../Actions/AuthAction'\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n  [authActions.logoutSuccess]: () => initialUserState,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: (_, { payload }) => payload,\r\n  [authActions.loginError]: (_, { payload }) => payload,\r\n  [authActions.logoutError]: (_, { payload }) => payload,\r\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n});\r\n","import contactReducer from '../Redux/Reducers/Reducers'\r\nimport userReduser from '../Redux/Reducers/authReduser'\r\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport { persistStore, persistReducer, FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER, } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage'\r\n\r\n\r\nconst persistConfig = {\r\n  key: 'auth',\r\n  storage: storage,\r\n  whitelist: ['token'] \r\n};\r\n\r\n\r\n\r\n export const store = configureStore({\r\n  reducer: {\r\n    state: contactReducer,\r\n    auth: persistReducer(persistConfig, userReduser),\r\n    \r\n  },\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n});\r\n\r\nexport const persistor = persistStore(store);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\nimport { store, persistor } from './Redux/store';\r\nimport './style.css'\r\n\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      \r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}